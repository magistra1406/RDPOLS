@page "/profile"

<PageTitle>Profil</PageTitle>

<AuthorizeView>
    <Authorized>
        <div class="container mt-3">
            <div class="badge bg-light text-dark mb-2">
                <h1 class="page-title">Profil Pengguna</h1>
            </div>

            <!-- Header container with vertical alignment -->
            <div class="d-flex justify-content-between align-items-center">
                <!-- Date on the left -->
                <div class="col-md-6">
                    <span class="badge bg-light text-dark mt-2" style="margin-bottom:15px">
                        <span>
                            <img src="/images/date-icon.png" style="height: 18px; width: 18px; margin-bottom: 2px; margin-right: 10px" />
                        </span>
                        @DateTime.Now.ToString("dddd, dd MMMM yyyy")
                    </span>
                </div>
            </div>

            <!-- Card Informasi Pengguna -->
            <div class="row mb-4">
                <div class="col-md-12">
                    <div class="card p-3 shadow-sm">
                        <h4 class="text-center mb-3">Informasi Pengguna</h4>
                        <div class="row align-items-center">
                            <div class="col-md-3 text-center">
                                <img src="@(context.User.FindFirst("ImageUrl")?.Value ?? "/images/profile.png")" alt="Profile Picture" class="img-fluid profile-img" />
                            </div>
                            <div class="col-md-9">
                                <div class="d-flex">
                                    <div class="col-4"><strong>Nama Lengkap</strong></div>
                                    <div class="col-8"><span class="text-muted">: @context.User.Identity?.Name</span></div>
                                </div>
                                <div class="d-flex mt-2">
                                    <div class="col-4"><strong>Role</strong></div>
                                    <div class="col-8"><span class="text-muted">: @context.User.FindFirst("Role")?.Value.Replace("Role: ", "")</span></div>
                                </div>
                                <div class="d-flex mt-2">
                                    <div class="col-4"><strong>Posisi dalam Role Level (PRL)</strong></div>
                                    <div class="col-8"><span class="text-muted">: @context.User.FindFirst("PRL")?.Value.Replace("PRL: ", "")</span></div>
                                </div>
                                <div class="d-flex mt-2">
                                    <div class="col-4"><strong>Section</strong></div>
                                    <div class="col-8"><span class="text-muted">: @context.User.FindFirst("Section")?.Value.Replace("Section: ", "")</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card Informasi Rumah Dinas -->
            <div class="row mb-4">
                <div class="col-md-12">
                    <div class="card p-3 shadow-sm">
                        <h4 class="text-center mb-3">Informasi Rumah Dinas</h4>
                        <div class="row align-items-center">
                            <div class="col-md-3 text-center">
                                <img src="/images/house1.png" alt="House Picture" class="img-fluid profile-img" />
                            </div>
                            <div class="col-md-9">
                                <div class="d-flex">
                                    <div class="col-4"><strong>Lokasi</strong></div>
                                    <div class="col-8"><span class="text-muted">: Komperta Gunung Simping GS04, Cilacap</span></div>
                                </div>
                                <div class="d-flex mt-2">
                                    <div class="col-4"><strong>Status Penggunaan</strong></div>
                                    <div class="col-8"><span class="text-muted">: Aktif</span></div>
                                </div>
                                <div class="d-flex mt-2">
                                    <div class="col-4"><strong>Tanggal Mulai Kepemilikan</strong></div>
                                    <div class="col-8"><span class="text-muted">: 28 Agustus 2024</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-3 text-center">
                            <a href="/rdp-detail" class="btn btn-primary me-2 custom-button-size">Cek Detail</a>
                            <a href="/admin/LaporanPemilik-pegawai" class="btn btn-danger custom-button-size">Laporan Kerusakan</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </Authorized>
</AuthorizeView>

<style>
    .profile-img {
        max-width: 150px; 
        object-fit: cover; 
        margin: 5px;
    }

    .custom-button-size {
        width: 200px;
    }
</style>
